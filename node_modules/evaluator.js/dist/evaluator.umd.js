!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.evaluatorJs=n()}(this,function(){var t={"^":{infix:"_POW"},"*":{infix:"_MUL"},"/":{infix:"_DIV"},"%":{infix:"_MOD"},"+":{infix:"_ADD",prefix:"_POS"},"-":{infix:"_SUB",prefix:"_NEG"}},n=function(t){return t>=0?t<2?1:t*n(t-1):NaN},e={_POW:{name:"Power",precedence:4,associativity:"right",method:function(t,n){return Math.pow(t,n)}},_POS:{name:"Positive",precedence:3,associativity:"right",method:function(t){return t}},_NEG:{name:"Negative",precedence:3,associativity:"right",method:function(t){return-t}},_MUL:{name:"Multiply",precedence:2,associativity:"left",method:function(t,n){return t*n}},_DIV:{name:"Divide",precedence:2,associativity:"left",method:function(t,n){return t/n}},_MOD:{name:"Modulo",precedence:2,associativity:"left",method:function(t,n){return t%n}},_ADD:{name:"Add",precedence:1,associativity:"left",method:function(t,n){return t+n}},_SUB:{name:"Subtract",precedence:1,associativity:"left",method:function(t,n){return t-n}}},r={E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PHI:(1+Math.sqrt(5))/2,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,TAU:2*Math.PI},o={ABS:function(t){return Math.abs(t)},ACOS:function(t){return Math.acos(t)},ACOSH:function(t){return Math.acosh(t)},ADD:function(t,n){return t+n},ASIN:function(t){return Math.asin(t)},ASINH:function(t){return Math.asinh(t)},ATAN:function(t){return Math.atan(t)},ATANH:function(t){return Math.atanh(t)},ATAN2:function(t,n){return Math.atan2(t,n)},CBRT:function(t){return Math.cbrt(t)},CEIL:function(t){return Math.ceil(t)},COS:function(t){return Math.cos(t)},COSH:function(t){return Math.cosh(t)},DIVIDE:function(t,n){return t/n},EXP:function(t){return Math.exp(t)},EXPM1:function(t){return Math.expm1(t)},FACTORIAL:n,FLOOR:function(t){return Math.floor(t)},HYPOT:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return Math.hypot.apply(Math,t)},LOG:function(t){return Math.log(t)},LOG1P:function(t){return Math.log1p(t)},LOG10:function(t){return Math.log10(t)},LOG2:function(t){return Math.log2(t)},MAX:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return Math.max.apply(Math,t)},MEAN:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return[].concat(t).reduce(function(t,n){return t+n},0)/[].concat(t).length},MIN:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return Math.min.apply(Math,t)},MOD:function(t,n){return t%n},MULTIPLY:function(t,n){return t*n},POW:function(t,n){return Math.pow(t,n)},SIN:function(t){return Math.sin(t)},SINH:function(t){return Math.sinh(t)},SQRT:function(t){return Math.sqrt(t)},SUBTRACT:function(t,n){return t-n},SUM:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return[].concat(t).reduce(function(t,n){return t+n},0)},TAN:function(t){return Math.tan(t)},TANH:function(t){return Math.tanh(t)}},i=function(n){return Object.keys(t).includes(n)},u=function(t){return Object.keys(e).includes(t)},h=function(t){return Object.keys(o).includes(t)},f=function(t){return Object.keys(r).includes(t)},a=function(t){return/(\d+\.\d*)|(\d*\.\d+)|(\d+)/.test(t)},c=function(t){return/\(/.test(t)},s=function(t){return/\)/.test(t)},p=function(t){return/,/.test(t)};function l(t,n){if(!t.length)return!1;var r=t[t.length-1];if(!u(r))return!1;var o=e[r],i=e[n];return!(1===i.method.length&&o.method.length>1)&&(o.precedence>i.precedence||o.precedence===i.precedence&&"left"===o.associativity)}return function(n){try{return function(t){if(!t.length)throw Error("No operations");var n,i,u=[];if(t.forEach(function(t){if(h(String(t).split(":")[0])){var n=t.split(":"),i=n[1],c=o[n[0]],s=0===c.length;if(u.length<(s?1:c.length))throw Error("Insufficient arguments for method: "+t);var p=c.apply(void 0,u.splice(s?-i:-c.length));u.push(p)}else if(f(t))u.push(r[t]);else if(a(t))u.push(t);else{var l=e[t];if(u.length<l.method.length)throw Error("Insufficient operands for operator: "+l.name);if("_DIV"===t&&0===u[1])throw Error("Division by zero");var d=l.method.apply(l,u.splice(-l.method.length));u.push(d)}}),u.length>1)throw Error("Insufficient operators");return n=u[0],(i=Math.pow(10,8))?Math.round(n*i)/i:Math.round(n)}(function(n){if(!n.length)throw Error("No valid tokens");var r=[],u=[],d=[],M=!1;for(n.forEach(function(g,v){if(M&&!c(g))throw Error("Misused method: "+r[r.length-1]);if(M=!1,h(g))return M=!0,r.push(g),void u.push(1);if(f(g))d.push(g);else if(a(g))d.push(parseFloat(g));else if(i(g)){var m=function(n,e){return void 0===e||c(e)||i(e)||p(e)?t[n].prefix:s(e)||a(e)||f(e)?t[n].infix:void 0}(g,n[v-1]);if(void 0===e[m])throw Error("Misused operator: "+g);for(;l(r,m);)d.push(r.pop());r.push(m)}else if(c(g))r.push(g);else if(p(g))for(u[u.length-1]+=1;!c(r[r.length-1]);){if(!r.length)throw Error("Invalid token: ,");d.push(r.pop())}else{if(!s(g))throw Error("Invalid token: "+g);for(;!c(r[r.length-1]);){if(!r.length)throw Error("Mismatched parentheses");d.push(r.pop())}if(r.pop(),h(r[r.length-1])){var E=r[r.length-1],O=u.pop();if(O<o[E].length)throw Error("Insufficient arguments for method: "+E);d.push(r.pop()+":"+O)}}});r.length;){var g=r[r.length-1];if(c(g)||s(g))throw Error("Mismatched parentheses");d.push(r.pop())}return d}(function(t){if(!t.length)throw Error("No input");return(t.match(/(\d+\.\d*)|(\d*\.\d+)|(\d+)|([a-zA-Z0-9_]+)|(.)/g)||[]).filter(function(t){return!function(t){return/\s/.test(t)}(t)}).map(function(t){return t.toUpperCase()})}(n)))}catch(t){throw t}}});
//# sourceMappingURL=evaluator.umd.js.map
